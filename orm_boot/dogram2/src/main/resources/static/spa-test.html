<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <nav>
        <ul class="navbar__menu flex space-x-4">
            <li class="history" route="/home">Home</li>
            <li class="history" route="/about">About</li>
            <li class="history" route="/project">Project</li>
            <li>Join</li>
            <li id="login">Login</li>
        </ul>
    </nav>
    <header class="mb-12">
        <div class="header-content"></div>
    </header>

    <!-- 라우팅마다 채워줄 content -->
    <div id="app-content"></div>

    <script>
        window.onload = () => {
            console.log("load!")
            const historyLinker = document.querySelectorAll('.history');

            historyLinker.forEach((element) => {
                element.addEventListener('click', (event) => {
                    const pathName = event.target.getAttribute('route');
                    // console.log(pathName);
                    const contentDiv = 'asdasd';

                    historyRouterPush(pathName, contentDiv);
                });
            });
        }

        // set browser history
        const historyRouterPush = (pathName, element) => {
            // {}:바뀐 주소와 함께 저장할 데이터 객체이고 바꿀 제목, 바꿀 주소이다
            // 현재 브라우저 주소를 바꾸고, render하여 innerHTML을 바꿔준다
            window.history.pushState({}, pathName, window.location.origin + pathName);
            renderHTML(element, routes[pathName])
        }

        // render
        const renderHTML = (element, route) => {
            element.innerHTML = route;
        }

        window.onpopstate = () => {
            renderHTML(element, routes[window.location.pathname])
        }
    </script>
</body>
</html>